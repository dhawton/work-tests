Name:         istio-eastwestgateway-76f8655d4b-z6ndc
Namespace:    istio-system
Priority:     0
Node:         gke-daniel-ambient-default-pool-d5dcc773-d4df/10.128.15.200
Start Time:   Tue, 11 Oct 2022 09:17:26 -0600
Labels:       app=istio-eastwestgateway
              chart=gateways
              heritage=Tiller
              install.operator.istio.io/owning-resource=unknown
              istio=eastwestgateway
              istio.io/rev=default
              operator.istio.io/component=IngressGateways
              pod-template-hash=76f8655d4b
              release=istio
              service.istio.io/canonical-name=istio-eastwestgateway
              service.istio.io/canonical-revision=latest
              sidecar.istio.io/inject=true
              topology.istio.io/network=kube-network
Annotations:  inject.istio.io/templates: gateway
              prometheus.io/path: /stats/prometheus
              prometheus.io/port: 15020
              prometheus.io/scrape: true
              proxy.istio.io/overrides:
                {"containers":[{"name":"istio-proxy","ports":[{"containerPort":15021,"protocol":"TCP"},{"containerPort":15443,"protocol":"TCP"},{"containe...
              sidecar.istio.io/inject: true
              sidecar.istio.io/status:
                {"initContainers":null,"containers":["istio-proxy"],"volumes":["workload-socket","credential-socket","workload-certs","istio-envoy","istio...
Status:       Running
IP:           10.72.0.9
IPs:
  IP:           10.72.0.9
Controlled By:  ReplicaSet/istio-eastwestgateway-76f8655d4b
Containers:
  istio-proxy:
    Container ID:  containerd://b4ab79a5a79247b9c220a52b4703338f442c757b26fb80cf4ab2be7684181328
    Image:         dhawton/proxyv2:ambient
    Image ID:      docker.io/dhawton/proxyv2@sha256:b17d379953f2b1494261030bfc00e022914a9f670b1d2c09f48ea9ab6798d745
    Ports:         15021/TCP, 15443/TCP, 15012/TCP, 15017/TCP, 15090/TCP
    Host Ports:    0/TCP, 0/TCP, 0/TCP, 0/TCP, 0/TCP
    Args:
      proxy
      router
      --domain
      $(POD_NAMESPACE).svc.cluster.local
      --proxyLogLevel=warning
      --proxyComponentLogLevel=misc:error
      --log_output_level=default:info
    State:          Running
      Started:      Tue, 11 Oct 2022 09:17:27 -0600
    Ready:          True
    Restart Count:  0
    Limits:
      cpu:     2
      memory:  1Gi
    Requests:
      cpu:      100m
      memory:   128Mi
    Readiness:  http-get http://:15021/healthz/ready delay=1s timeout=3s period=2s #success=1 #failure=30
    Environment:
      JWT_POLICY:                         third-party-jwt
      PILOT_CERT_PROVIDER:                istiod
      CA_ADDR:                            istiod.istio-system.svc:15012
      POD_NAME:                           istio-eastwestgateway-76f8655d4b-z6ndc (v1:metadata.name)
      POD_NAMESPACE:                      istio-system (v1:metadata.namespace)
      INSTANCE_IP:                         (v1:status.podIP)
      SERVICE_ACCOUNT:                     (v1:spec.serviceAccountName)
      HOST_IP:                             (v1:status.hostIP)
      PROXY_CONFIG:                       {"proxyMetadata":{"ISTIO_META_ENABLE_HBONE":"true"},"meshId":"mesh1"}
                                          
      ISTIO_META_POD_PORTS:               [
                                              {"containerPort":15021,"protocol":"TCP"}
                                              ,{"containerPort":15443,"protocol":"TCP"}
                                              ,{"containerPort":15012,"protocol":"TCP"}
                                              ,{"containerPort":15017,"protocol":"TCP"}
                                              ,{"name":"http-envoy-prom","containerPort":15090,"protocol":"TCP"}
                                          ]
      ISTIO_META_APP_CONTAINERS:          
      ISTIO_META_INTERCEPTION_MODE:       REDIRECT
      ISTIO_META_WORKLOAD_NAME:           istio-eastwestgateway
      ISTIO_META_OWNER:                   kubernetes://apis/apps/v1/namespaces/istio-system/deployments/istio-eastwestgateway
      ISTIO_META_MESH_ID:                 mesh1
      TRUST_DOMAIN:                       cluster.local
      ISTIO_META_ENABLE_HBONE:            true
      ISTIO_META_REQUESTED_NETWORK_VIEW:  kube-network
      ISTIO_META_UNPRIVILEGED_POD:        true
      ISTIO_META_CLUSTER_ID:              cluster1
      ISTIO_META_NETWORK:                 kube-network
    Mounts:
      /etc/istio/ingressgateway-ca-certs from ingressgateway-ca-certs (ro)
      /etc/istio/ingressgateway-certs from ingressgateway-certs (ro)
      /etc/istio/pod from istio-podinfo (rw)
      /etc/istio/proxy from istio-envoy (rw)
      /var/lib/istio/data from istio-data (rw)
      /var/run/secrets/credential-uds from credential-socket (rw)
      /var/run/secrets/istio from istiod-ca-cert (rw)
      /var/run/secrets/kubernetes.io/serviceaccount from kube-api-access-sf5sz (ro)
      /var/run/secrets/tokens from istio-token (rw)
      /var/run/secrets/workload-spiffe-credentials from workload-certs (rw)
      /var/run/secrets/workload-spiffe-uds from workload-socket (rw)
Conditions:
  Type              Status
  Initialized       True 
  Ready             True 
  ContainersReady   True 
  PodScheduled      True 
Volumes:
  workload-socket:
    Type:       EmptyDir (a temporary directory that shares a pod's lifetime)
    Medium:     
    SizeLimit:  <unset>
  credential-socket:
    Type:       EmptyDir (a temporary directory that shares a pod's lifetime)
    Medium:     
    SizeLimit:  <unset>
  workload-certs:
    Type:       EmptyDir (a temporary directory that shares a pod's lifetime)
    Medium:     
    SizeLimit:  <unset>
  istio-envoy:
    Type:       EmptyDir (a temporary directory that shares a pod's lifetime)
    Medium:     Memory
    SizeLimit:  <unset>
  istio-data:
    Type:       EmptyDir (a temporary directory that shares a pod's lifetime)
    Medium:     
    SizeLimit:  <unset>
  istio-podinfo:
    Type:  DownwardAPI (a volume populated by information about the pod)
    Items:
      metadata.labels -> labels
      metadata.annotations -> annotations
  istio-token:
    Type:                    Projected (a volume that contains injected data from multiple sources)
    TokenExpirationSeconds:  43200
  istiod-ca-cert:
    Type:      ConfigMap (a volume populated by a ConfigMap)
    Name:      istio-ca-root-cert
    Optional:  false
  ingressgateway-certs:
    Type:        Secret (a volume populated by a Secret)
    SecretName:  istio-ingressgateway-certs
    Optional:    true
  ingressgateway-ca-certs:
    Type:        Secret (a volume populated by a Secret)
    SecretName:  istio-ingressgateway-ca-certs
    Optional:    true
  kube-api-access-sf5sz:
    Type:                    Projected (a volume that contains injected data from multiple sources)
    TokenExpirationSeconds:  3607
    ConfigMapName:           kube-root-ca.crt
    ConfigMapOptional:       <nil>
    DownwardAPI:             true
QoS Class:                   Burstable
Node-Selectors:              <none>
Tolerations:                 node.kubernetes.io/not-ready:NoExecute op=Exists for 300s
                             node.kubernetes.io/unreachable:NoExecute op=Exists for 300s
Events:
  Type    Reason     Age   From               Message
  ----    ------     ----  ----               -------
  Normal  Scheduled  26m   default-scheduler  Successfully assigned istio-system/istio-eastwestgateway-76f8655d4b-z6ndc to gke-daniel-ambient-default-pool-d5dcc773-d4df
  Normal  Pulling    26m   kubelet            Pulling image "dhawton/proxyv2:ambient"
  Normal  Pulled     26m   kubelet            Successfully pulled image "dhawton/proxyv2:ambient" in 426.299161ms
  Normal  Created    26m   kubelet            Created container istio-proxy
  Normal  Started    26m   kubelet            Started container istio-proxy


Name:         istio-ingressgateway-7bd4c94994-wq77w
Namespace:    istio-system
Priority:     0
Node:         gke-daniel-ambient-default-pool-d5dcc773-d4df/10.128.15.200
Start Time:   Tue, 11 Oct 2022 09:17:12 -0600
Labels:       app=istio-ingressgateway
              chart=gateways
              heritage=Tiller
              install.operator.istio.io/owning-resource=unknown
              istio=ingressgateway
              istio.io/rev=default
              operator.istio.io/component=IngressGateways
              pod-template-hash=7bd4c94994
              release=istio
              service.istio.io/canonical-name=istio-ingressgateway
              service.istio.io/canonical-revision=latest
              sidecar.istio.io/inject=false
Annotations:  prometheus.io/path: /stats/prometheus
              prometheus.io/port: 15020
              prometheus.io/scrape: true
              sidecar.istio.io/inject: false
Status:       Running
IP:           10.72.0.8
IPs:
  IP:           10.72.0.8
Controlled By:  ReplicaSet/istio-ingressgateway-7bd4c94994
Containers:
  istio-proxy:
    Container ID:  containerd://681838a300b5c2d22186d1e0548243890d089fe3d0e74bb6893cfa6b7259432c
    Image:         dhawton/proxyv2:ambient
    Image ID:      docker.io/dhawton/proxyv2@sha256:b17d379953f2b1494261030bfc00e022914a9f670b1d2c09f48ea9ab6798d745
    Ports:         15021/TCP, 8080/TCP, 8443/TCP, 15090/TCP
    Host Ports:    0/TCP, 0/TCP, 0/TCP, 0/TCP
    Args:
      proxy
      router
      --domain
      $(POD_NAMESPACE).svc.cluster.local
      --proxyLogLevel=warning
      --proxyComponentLogLevel=misc:error
      --log_output_level=default:info
    State:          Running
      Started:      Tue, 11 Oct 2022 09:17:13 -0600
    Ready:          True
    Restart Count:  0
    Limits:
      cpu:     2
      memory:  1Gi
    Requests:
      cpu:      100m
      memory:   128Mi
    Readiness:  http-get http://:15021/healthz/ready delay=1s timeout=1s period=2s #success=1 #failure=30
    Environment:
      JWT_POLICY:                   third-party-jwt
      PILOT_CERT_PROVIDER:          istiod
      CA_ADDR:                      istiod.istio-system.svc:15012
      NODE_NAME:                     (v1:spec.nodeName)
      POD_NAME:                     istio-ingressgateway-7bd4c94994-wq77w (v1:metadata.name)
      POD_NAMESPACE:                istio-system (v1:metadata.namespace)
      INSTANCE_IP:                   (v1:status.podIP)
      HOST_IP:                       (v1:status.hostIP)
      SERVICE_ACCOUNT:               (v1:spec.serviceAccountName)
      ISTIO_META_WORKLOAD_NAME:     istio-ingressgateway
      ISTIO_META_OWNER:             kubernetes://apis/apps/v1/namespaces/istio-system/deployments/istio-ingressgateway
      ISTIO_META_MESH_ID:           mesh1
      TRUST_DOMAIN:                 cluster.local
      ISTIO_META_UNPRIVILEGED_POD:  true
      ISTIO_META_ENABLE_HBONE:      true
      ISTIO_META_NETWORK:           kube-network
      ISTIO_META_CLUSTER_ID:        cluster1
    Mounts:
      /etc/istio/config from config-volume (rw)
      /etc/istio/ingressgateway-ca-certs from ingressgateway-ca-certs (ro)
      /etc/istio/ingressgateway-certs from ingressgateway-certs (ro)
      /etc/istio/pod from podinfo (rw)
      /etc/istio/proxy from istio-envoy (rw)
      /var/lib/istio/data from istio-data (rw)
      /var/run/secrets/credential-uds from credential-socket (rw)
      /var/run/secrets/istio from istiod-ca-cert (rw)
      /var/run/secrets/kubernetes.io/serviceaccount from kube-api-access-45t22 (ro)
      /var/run/secrets/tokens from istio-token (ro)
      /var/run/secrets/workload-spiffe-credentials from workload-certs (rw)
      /var/run/secrets/workload-spiffe-uds from workload-socket (rw)
Conditions:
  Type              Status
  Initialized       True 
  Ready             True 
  ContainersReady   True 
  PodScheduled      True 
Volumes:
  workload-socket:
    Type:       EmptyDir (a temporary directory that shares a pod's lifetime)
    Medium:     
    SizeLimit:  <unset>
  credential-socket:
    Type:       EmptyDir (a temporary directory that shares a pod's lifetime)
    Medium:     
    SizeLimit:  <unset>
  workload-certs:
    Type:       EmptyDir (a temporary directory that shares a pod's lifetime)
    Medium:     
    SizeLimit:  <unset>
  istiod-ca-cert:
    Type:      ConfigMap (a volume populated by a ConfigMap)
    Name:      istio-ca-root-cert
    Optional:  false
  podinfo:
    Type:  DownwardAPI (a volume populated by information about the pod)
    Items:
      metadata.labels -> labels
      metadata.annotations -> annotations
  istio-envoy:
    Type:       EmptyDir (a temporary directory that shares a pod's lifetime)
    Medium:     
    SizeLimit:  <unset>
  istio-data:
    Type:       EmptyDir (a temporary directory that shares a pod's lifetime)
    Medium:     
    SizeLimit:  <unset>
  istio-token:
    Type:                    Projected (a volume that contains injected data from multiple sources)
    TokenExpirationSeconds:  43200
  config-volume:
    Type:      ConfigMap (a volume populated by a ConfigMap)
    Name:      istio
    Optional:  true
  ingressgateway-certs:
    Type:        Secret (a volume populated by a Secret)
    SecretName:  istio-ingressgateway-certs
    Optional:    true
  ingressgateway-ca-certs:
    Type:        Secret (a volume populated by a Secret)
    SecretName:  istio-ingressgateway-ca-certs
    Optional:    true
  kube-api-access-45t22:
    Type:                    Projected (a volume that contains injected data from multiple sources)
    TokenExpirationSeconds:  3607
    ConfigMapName:           kube-root-ca.crt
    ConfigMapOptional:       <nil>
    DownwardAPI:             true
QoS Class:                   Burstable
Node-Selectors:              <none>
Tolerations:                 node.kubernetes.io/not-ready:NoExecute op=Exists for 300s
                             node.kubernetes.io/unreachable:NoExecute op=Exists for 300s
Events:
  Type    Reason     Age   From               Message
  ----    ------     ----  ----               -------
  Normal  Scheduled  26m   default-scheduler  Successfully assigned istio-system/istio-ingressgateway-7bd4c94994-wq77w to gke-daniel-ambient-default-pool-d5dcc773-d4df
  Normal  Pulled     26m   kubelet            Container image "dhawton/proxyv2:ambient" already present on machine
  Normal  Created    26m   kubelet            Created container istio-proxy
  Normal  Started    26m   kubelet            Started container istio-proxy


Name:         istiod-b8fd96f55-w7lq6
Namespace:    istio-system
Priority:     0
Node:         gke-daniel-ambient-default-pool-d5dcc773-q6td/10.128.15.201
Start Time:   Tue, 11 Oct 2022 09:16:45 -0600
Labels:       app=istiod
              install.operator.istio.io/owning-resource=unknown
              istio=pilot
              istio.io/rev=default
              operator.istio.io/component=Pilot
              pod-template-hash=b8fd96f55
              sidecar.istio.io/inject=false
Annotations:  prometheus.io/port: 15014
              prometheus.io/scrape: true
              sidecar.istio.io/inject: false
Status:       Running
IP:           10.72.1.9
IPs:
  IP:           10.72.1.9
Controlled By:  ReplicaSet/istiod-b8fd96f55
Containers:
  discovery:
    Container ID:  containerd://58a06eae03ee1e5dc08c21eab5a839014c3d4c8a185fe692e369016ac1fe9531
    Image:         dhawton/pilot:ambient
    Image ID:      docker.io/dhawton/pilot@sha256:3de21297deff4d385314d13a949354038e0034c5edf960f2512c4ab62073a812
    Ports:         8080/TCP, 15010/TCP, 15017/TCP
    Host Ports:    0/TCP, 0/TCP, 0/TCP
    Args:
      discovery
      --monitoringAddr=:15014
      --log_output_level=default:info
      --domain
      cluster.local
      --keepaliveMaxServerConnectionAge
      30m
    State:          Running
      Started:      Tue, 11 Oct 2022 09:16:53 -0600
    Ready:          True
    Restart Count:  0
    Requests:
      cpu:      500m
      memory:   2Gi
    Readiness:  http-get http://:8080/ready delay=1s timeout=5s period=3s #success=1 #failure=3
    Environment:
      AMBIENT_AUTO_LABEL:                            true
      REVISION:                                      default
      JWT_POLICY:                                    third-party-jwt
      PILOT_CERT_PROVIDER:                           istiod
      POD_NAME:                                      istiod-b8fd96f55-w7lq6 (v1:metadata.name)
      POD_NAMESPACE:                                 istio-system (v1:metadata.namespace)
      SERVICE_ACCOUNT:                                (v1:spec.serviceAccountName)
      KUBECONFIG:                                    /var/run/secrets/remote/config
      ENABLE_AUTO_SNI:                               true
      PILOT_ENABLE_INBOUND_PASSTHROUGH:              false
      PILOT_ENABLE_WORKLOAD_ENTRY_AUTOREGISTRATION:  true
      PILOT_ENABLE_WORKLOAD_ENTRY_HEALTHCHECKS:      true
      VERIFY_CERTIFICATE_AT_CLIENT:                  true
      PILOT_TRACE_SAMPLING:                          1
      PILOT_ENABLE_PROTOCOL_SNIFFING_FOR_OUTBOUND:   true
      PILOT_ENABLE_PROTOCOL_SNIFFING_FOR_INBOUND:    true
      ISTIOD_ADDR:                                   istiod.istio-system.svc:15012
      PILOT_ENABLE_ANALYSIS:                         false
      CLUSTER_ID:                                    cluster1
    Mounts:
      /etc/cacerts from cacerts (ro)
      /var/run/secrets/istio-dns from local-certs (rw)
      /var/run/secrets/kubernetes.io/serviceaccount from kube-api-access-t6qt2 (ro)
      /var/run/secrets/remote from istio-kubeconfig (ro)
      /var/run/secrets/tokens from istio-token (ro)
Conditions:
  Type              Status
  Initialized       True 
  Ready             True 
  ContainersReady   True 
  PodScheduled      True 
Volumes:
  local-certs:
    Type:       EmptyDir (a temporary directory that shares a pod's lifetime)
    Medium:     Memory
    SizeLimit:  <unset>
  istio-token:
    Type:                    Projected (a volume that contains injected data from multiple sources)
    TokenExpirationSeconds:  43200
  cacerts:
    Type:        Secret (a volume populated by a Secret)
    SecretName:  cacerts
    Optional:    true
  istio-kubeconfig:
    Type:        Secret (a volume populated by a Secret)
    SecretName:  istio-kubeconfig
    Optional:    true
  kube-api-access-t6qt2:
    Type:                    Projected (a volume that contains injected data from multiple sources)
    TokenExpirationSeconds:  3607
    ConfigMapName:           kube-root-ca.crt
    ConfigMapOptional:       <nil>
    DownwardAPI:             true
QoS Class:                   Burstable
Node-Selectors:              <none>
Tolerations:                 node.kubernetes.io/not-ready:NoExecute op=Exists for 300s
                             node.kubernetes.io/unreachable:NoExecute op=Exists for 300s
Events:
  Type     Reason       Age   From               Message
  ----     ------       ----  ----               -------
  Normal   Scheduled    26m   default-scheduler  Successfully assigned istio-system/istiod-b8fd96f55-w7lq6 to gke-daniel-ambient-default-pool-d5dcc773-q6td
  Warning  FailedMount  26m   kubelet            MountVolume.SetUp failed for volume "cacerts" : failed to sync secret cache: timed out waiting for the condition
  Normal   Pulling      26m   kubelet            Pulling image "dhawton/pilot:ambient"
  Normal   Pulled       26m   kubelet            Successfully pulled image "dhawton/pilot:ambient" in 6.04144911s
  Normal   Created      26m   kubelet            Created container discovery
  Normal   Started      26m   kubelet            Started container discovery
  Warning  Unhealthy    26m   kubelet            Readiness probe failed: HTTP probe failed with statuscode: 503


Name:         ztunnel-g4x4p
Namespace:    istio-system
Priority:     0
Node:         gke-daniel-ambient-default-pool-d5dcc773-q6td/10.128.15.201
Start Time:   Tue, 11 Oct 2022 09:16:45 -0600
Labels:       ambient-type=ztunnel
              app=ztunnel
              controller-revision-hash=86ddc864b4
              pod-template-generation=1
              sidecar.istio.io/inject=false
Annotations:  sidecar.istio.io/inject: false
Status:       Running
IP:           10.72.1.10
IPs:
  IP:           10.72.1.10
Controlled By:  DaemonSet/ztunnel
Init Containers:
  istio-init:
    Container ID:  containerd://bf0af1de1b10e3a981efedb8f68ab89afd2d7aae08fe0c3eb8113ce710bee5bc
    Image:         dhawton/proxyv2:ambient
    Image ID:      docker.io/dhawton/proxyv2@sha256:b17d379953f2b1494261030bfc00e022914a9f670b1d2c09f48ea9ab6798d745
    Port:          <none>
    Host Port:     <none>
    Command:
      sh
      -c
      set -ex
      # START https://github.com/solo-io/istio-sidecarless/blob/master/redirect-worker.sh#L198-L205
      PROXY_OUTBOUND_MARK=0x401/0xfff
      PROXY_INBOUND_MARK=0x402/0xfff
      PROXY_ORG_SRC_MARK=0x4d2/0xfff
      # tproxy mark, it's only used here.
      MARK=0x400/0xfff
      ORG_SRC_RET_MARK=0x4d3/0xfff
      # END https://github.com/solo-io/istio-sidecarless/blob/master/redirect-worker.sh#L198-L205
      
      # Below is from config.sh but used in redirect-worker.sh as well
      POD_OUTBOUND=15001
      POD_INBOUND=15008
      POD_INBOUND_PLAINTEXT=15006
      
      # socket mark setup
      OUTBOUND_MASK="0x100"
      OUTBOUND_MARK="0x100/$OUTBOUND_MASK"
      
      SKIP_MASK="0x200"
      SKIP_MARK="0x200/$SKIP_MASK"
      
      # note!! this includes the skip mark bit, so match on skip mark will match this as well.
      CONNSKIP_MASK="0x220"
      CONNSKIP_MARK="0x220/$CONNSKIP_MASK"
      
      # note!! this includes the skip mark bit, so match on skip mark will match this as well.
      PROXY_MASK="0x210"
      PROXY_MARK="0x210/$PROXY_MASK"
      
      PROXY_RET_MASK="0x040"
      PROXY_RET_MARK="0x040/$PROXY_RET_MASK"
      
      INBOUND_TUN=istioin
      OUTBOUND_TUN=istioout
      
      # TODO: look into why link local (169.254.x.x) address didn't work
      # they don't respond to ARP.
      INBOUND_TUN_IP=192.168.126.1
      ZTUNNEL_INBOUND_TUN_IP=192.168.126.2
      OUTBOUND_TUN_IP=192.168.127.1
      ZTUNNEL_OUTBOUND_TUN_IP=192.168.127.2
      TUN_PREFIX=30
      
      # a route table number number we can use to send traffic to envoy (should be unused).
      INBOUND_ROUTE_TABLE=100
      INBOUND_ROUTE_TABLE2=103
      OUTBOUND_ROUTE_TABLE=101
      # needed for original src.
      PROXY_ROUTE_TABLE=102
      
      # START https://github.com/solo-io/istio-sidecarless/blob/master/redirect-worker.sh#L185-L196
      set +e # Only for delete, we don't care if this fails
      ip link del p$INBOUND_TUN
      ip link del p$OUTBOUND_TUN
      set -e
      HOST_IP=$(ip route | grep default | awk '{print $3}')
      
      ip link add name p$INBOUND_TUN type geneve id 1000 remote $HOST_IP
      ip addr add $ZTUNNEL_INBOUND_TUN_IP/$TUN_PREFIX dev p$INBOUND_TUN
      
      ip link add name p$OUTBOUND_TUN type geneve id 1001 remote $HOST_IP
      ip addr add $ZTUNNEL_OUTBOUND_TUN_IP/$TUN_PREFIX dev p$OUTBOUND_TUN
      
      ip link set p$INBOUND_TUN up
      ip link set p$OUTBOUND_TUN up
      
      echo 0 > /proc/sys/net/ipv4/conf/p$INBOUND_TUN/rp_filter
      echo 0 > /proc/sys/net/ipv4/conf/p$OUTBOUND_TUN/rp_filter
      # END https://github.com/solo-io/istio-sidecarless/blob/master/redirect-worker.sh#L185-L196
      
      # START https://github.com/solo-io/istio-sidecarless/blob/master/redirect-worker.sh#L206-L238
      set +e # Only for delete, we don't care if this fails
      ip rule del priority 20000
      ip rule del priority 20001
      ip rule del priority 20002
      ip rule del priority 20003
      
      ip route flush table 100
      ip route flush table 101
      ip route flush table 102
      set -e
      
      ip rule add priority 20000 fwmark $MARK lookup 100
      ip rule add priority 20001 fwmark $PROXY_OUTBOUND_MARK lookup 101
      ip rule add priority 20002 fwmark $PROXY_INBOUND_MARK lookup 102
      ip rule add priority 20003 fwmark $ORG_SRC_RET_MARK lookup 100
      ip route add local 0.0.0.0/0 dev lo table 100
      
      ip route add table 101 $HOST_IP dev eth0 scope link
      ip route add table 101 0.0.0.0/0 via $OUTBOUND_TUN_IP dev p$OUTBOUND_TUN
      
      ip route add table 102 $HOST_IP dev eth0 scope link
      ip route add table 102 0.0.0.0/0 via $INBOUND_TUN_IP dev p$INBOUND_TUN
      
      set +e
      num_legacy_lines=$( (iptables-legacy-save || true; ip6tables-legacy-save || true) 2>/dev/null | grep '^-' | wc -l)
      if [ "${num_legacy_lines}" -ge 10 ]; then
        mode=legacy
      else
        num_nft_lines=$( (timeout 5 sh -c "iptables-nft-save; ip6tables-nft-save" || true) 2>/dev/null | grep '^-' | wc -l)
        if [ "${num_legacy_lines}" -ge "${num_nft_lines}" ]; then
          mode=legacy
        else
          mode=nft
        fi
      fi
      IPTABLES=iptables-legacy
      if [ "${mode}" = "nft" ]; then
        IPTABLES=iptables-nft
      fi
      set -e
      
      $IPTABLES -t mangle -F PREROUTING
      $IPTABLES -t nat -F OUTPUT
      
      $IPTABLES-save | grep -v LOG | $IPTABLES-restore
      $IPTABLES -t mangle -I PREROUTING -j LOG --log-prefix "mangle pre [$POD_NAME] "
      $IPTABLES -t mangle -I POSTROUTING -j LOG --log-prefix "mangle post [$POD_NAME] "
      $IPTABLES -t mangle -I INPUT -j LOG --log-prefix "mangle inp [$POD_NAME] "
      $IPTABLES -t mangle -I OUTPUT -j LOG --log-prefix "mangle out [$POD_NAME] "
      $IPTABLES -t mangle -I FORWARD -j LOG --log-prefix "mangle fw [$POD_NAME] "
      $IPTABLES -t nat -I POSTROUTING -j LOG --log-prefix "nat post [$POD_NAME] "
      $IPTABLES -t nat -I INPUT -j LOG --log-prefix "nat inp [$POD_NAME] "
      $IPTABLES -t nat -I OUTPUT -j LOG --log-prefix "nat out [$POD_NAME] "
      $IPTABLES -t nat -I PREROUTING -j LOG --log-prefix "nat pre [$POD_NAME] "
      $IPTABLES -t raw -I PREROUTING -j LOG --log-prefix "raw pre [$POD_NAME] "
      $IPTABLES -t raw -I OUTPUT -j LOG --log-prefix "raw out [$POD_NAME] "
      $IPTABLES -t filter -I FORWARD -j LOG --log-prefix "filt fw [$POD_NAME] "
      $IPTABLES -t filter -I OUTPUT -j LOG --log-prefix "filt out [$POD_NAME] "
      $IPTABLES -t filter -I INPUT -j LOG --log-prefix "filt inp [$POD_NAME] "
      
      $IPTABLES -t mangle -A PREROUTING -p tcp -i p$INBOUND_TUN -m tcp --dport=$POD_INBOUND -j TPROXY --tproxy-mark $MARK --on-port $POD_INBOUND --on-ip 127.0.0.1
      $IPTABLES -t mangle -A PREROUTING -p tcp -i p$OUTBOUND_TUN -j TPROXY --tproxy-mark $MARK --on-port $POD_OUTBOUND --on-ip 127.0.0.1
      $IPTABLES -t mangle -A PREROUTING -p tcp -i p$INBOUND_TUN -j TPROXY --tproxy-mark $MARK --on-port $POD_INBOUND_PLAINTEXT --on-ip 127.0.0.1
      
      $IPTABLES -t mangle -A PREROUTING -p tcp -i eth0 ! --dst $INSTANCE_IP -j MARK --set-mark $ORG_SRC_RET_MARK
      
      $IPTABLES -t nat -A OUTPUT -p tcp --dport 15088 -j REDIRECT --to-port $POD_INBOUND
      # END https://github.com/solo-io/istio-sidecarless/blob/master/redirect-worker.sh#L206-L238
      # With normal linux routing we need to disable the rp_filter
      # as we get packets from a tunnel that doesn't have default routes.
      echo 0 > /proc/sys/net/ipv4/conf/all/rp_filter
      echo 0 > /proc/sys/net/ipv4/conf/default/rp_filter
      echo 0 > /proc/sys/net/ipv4/conf/eth0/rp_filter
      
    State:          Terminated
      Reason:       Completed
      Exit Code:    0
      Started:      Tue, 11 Oct 2022 09:17:05 -0600
      Finished:     Tue, 11 Oct 2022 09:17:05 -0600
    Ready:          True
    Restart Count:  0
    Environment:
      INSTANCE_IP:               (v1:status.podIP)
      POD_NAME:                 ztunnel-g4x4p (v1:metadata.name)
      HOST_IP:                   (v1:status.hostIP)
      ISTIO_META_ENABLE_HBONE:  true
    Mounts:
      /var/run/secrets/kubernetes.io/serviceaccount from kube-api-access-jb4nb (ro)
Containers:
  istio-proxy:
    Container ID:  containerd://db97861e83b2247ea38d7334a5f8f99d76e87ba525ba54b5351201ef8823b985
    Image:         dhawton/proxyv2:ambient
    Image ID:      docker.io/dhawton/proxyv2@sha256:b17d379953f2b1494261030bfc00e022914a9f670b1d2c09f48ea9ab6798d745
    Port:          <none>
    Host Port:     <none>
    Args:
      proxy
      sidecar
    State:          Running
      Started:      Tue, 11 Oct 2022 09:17:09 -0600
    Ready:          True
    Restart Count:  0
    Readiness:      http-get http://:15020/healthz/ready delay=0s timeout=1s period=10s #success=1 #failure=3
    Environment:
      ISTIO_META_GENERATOR:     ztunnel-envoy
      ISTIO_META_AMBIENT_TYPE:  ztunnel
      ISTIO_META_CLUSTER_ID:    cluster1
      CREDENTIAL_FETCHER_TYPE:  TokenRequest
      POD_NAME:                 ztunnel-g4x4p (v1:metadata.name)
      POD_NAMESPACE:            istio-system (v1:metadata.namespace)
      ISTIO_META_NODE_NAME:      (v1:spec.nodeName)
      INSTANCE_IP:               (v1:status.podIP)
      SERVICE_ACCOUNT:           (v1:spec.serviceAccountName)
      ISTIO_META_ENABLE_HBONE:  true
    Mounts:
      /etc/istio/config from config-volume (rw)
      /var/lib/istio/data from istio-data (rw)
      /var/lib/kubelet/pki from kubelet-creds (rw)
      /var/run/secrets/istio from istiod-ca-cert (rw)
      /var/run/secrets/kubernetes.io/serviceaccount from kube-api-access-jb4nb (ro)
      /var/run/secrets/tokens from istio-token (rw)
Conditions:
  Type              Status
  Initialized       True 
  Ready             True 
  ContainersReady   True 
  PodScheduled      True 
Volumes:
  istio-data:
    Type:       EmptyDir (a temporary directory that shares a pod's lifetime)
    Medium:     
    SizeLimit:  <unset>
  kubelet-creds:
    Type:          HostPath (bare host directory volume)
    Path:          /var/lib/kubelet/pki
    HostPathType:  
  istio-token:
    Type:                    Projected (a volume that contains injected data from multiple sources)
    TokenExpirationSeconds:  43200
  istiod-ca-cert:
    Type:      ConfigMap (a volume populated by a ConfigMap)
    Name:      istio-ca-root-cert
    Optional:  false
  config-volume:
    Type:      ConfigMap (a volume populated by a ConfigMap)
    Name:      istio
    Optional:  true
  kube-api-access-jb4nb:
    Type:                    Projected (a volume that contains injected data from multiple sources)
    TokenExpirationSeconds:  3607
    ConfigMapName:           kube-root-ca.crt
    ConfigMapOptional:       <nil>
    DownwardAPI:             true
QoS Class:                   BestEffort
Node-Selectors:              <none>
Tolerations:                 :NoSchedule op=Exists
                             :NoExecute op=Exists
                             CriticalAddonsOnly op=Exists
                             node.kubernetes.io/disk-pressure:NoSchedule op=Exists
                             node.kubernetes.io/memory-pressure:NoSchedule op=Exists
                             node.kubernetes.io/not-ready:NoExecute op=Exists
                             node.kubernetes.io/pid-pressure:NoSchedule op=Exists
                             node.kubernetes.io/unreachable:NoExecute op=Exists
                             node.kubernetes.io/unschedulable:NoSchedule op=Exists
Events:
  Type     Reason       Age                From               Message
  ----     ------       ----               ----               -------
  Normal   Scheduled    26m                default-scheduler  Successfully assigned istio-system/ztunnel-g4x4p to gke-daniel-ambient-default-pool-d5dcc773-q6td
  Warning  FailedMount  26m                kubelet            MountVolume.SetUp failed for volume "config-volume" : failed to sync configmap cache: timed out waiting for the condition
  Warning  FailedMount  26m (x5 over 26m)  kubelet            MountVolume.SetUp failed for volume "istiod-ca-cert" : configmap "istio-ca-root-cert" not found
  Normal   Pulling      26m                kubelet            Pulling image "dhawton/proxyv2:ambient"
  Normal   Pulled       26m                kubelet            Successfully pulled image "dhawton/proxyv2:ambient" in 3.347208023s
  Normal   Created      26m                kubelet            Created container istio-init
  Normal   Started      26m                kubelet            Started container istio-init
  Normal   Pulled       26m                kubelet            Container image "dhawton/proxyv2:ambient" already present on machine
  Normal   Created      26m                kubelet            Created container istio-proxy
  Normal   Started      26m                kubelet            Started container istio-proxy


Name:         ztunnel-w7skd
Namespace:    istio-system
Priority:     0
Node:         gke-daniel-ambient-default-pool-d5dcc773-d4df/10.128.15.200
Start Time:   Tue, 11 Oct 2022 09:16:45 -0600
Labels:       ambient-type=ztunnel
              app=ztunnel
              controller-revision-hash=86ddc864b4
              pod-template-generation=1
              sidecar.istio.io/inject=false
Annotations:  sidecar.istio.io/inject: false
Status:       Running
IP:           10.72.0.7
IPs:
  IP:           10.72.0.7
Controlled By:  DaemonSet/ztunnel
Init Containers:
  istio-init:
    Container ID:  containerd://0d30e8923d07700c84d470531ca5c7ccac830dbb410da0f210c2243fb5f8df82
    Image:         dhawton/proxyv2:ambient
    Image ID:      docker.io/dhawton/proxyv2@sha256:b17d379953f2b1494261030bfc00e022914a9f670b1d2c09f48ea9ab6798d745
    Port:          <none>
    Host Port:     <none>
    Command:
      sh
      -c
      set -ex
      # START https://github.com/solo-io/istio-sidecarless/blob/master/redirect-worker.sh#L198-L205
      PROXY_OUTBOUND_MARK=0x401/0xfff
      PROXY_INBOUND_MARK=0x402/0xfff
      PROXY_ORG_SRC_MARK=0x4d2/0xfff
      # tproxy mark, it's only used here.
      MARK=0x400/0xfff
      ORG_SRC_RET_MARK=0x4d3/0xfff
      # END https://github.com/solo-io/istio-sidecarless/blob/master/redirect-worker.sh#L198-L205
      
      # Below is from config.sh but used in redirect-worker.sh as well
      POD_OUTBOUND=15001
      POD_INBOUND=15008
      POD_INBOUND_PLAINTEXT=15006
      
      # socket mark setup
      OUTBOUND_MASK="0x100"
      OUTBOUND_MARK="0x100/$OUTBOUND_MASK"
      
      SKIP_MASK="0x200"
      SKIP_MARK="0x200/$SKIP_MASK"
      
      # note!! this includes the skip mark bit, so match on skip mark will match this as well.
      CONNSKIP_MASK="0x220"
      CONNSKIP_MARK="0x220/$CONNSKIP_MASK"
      
      # note!! this includes the skip mark bit, so match on skip mark will match this as well.
      PROXY_MASK="0x210"
      PROXY_MARK="0x210/$PROXY_MASK"
      
      PROXY_RET_MASK="0x040"
      PROXY_RET_MARK="0x040/$PROXY_RET_MASK"
      
      INBOUND_TUN=istioin
      OUTBOUND_TUN=istioout
      
      # TODO: look into why link local (169.254.x.x) address didn't work
      # they don't respond to ARP.
      INBOUND_TUN_IP=192.168.126.1
      ZTUNNEL_INBOUND_TUN_IP=192.168.126.2
      OUTBOUND_TUN_IP=192.168.127.1
      ZTUNNEL_OUTBOUND_TUN_IP=192.168.127.2
      TUN_PREFIX=30
      
      # a route table number number we can use to send traffic to envoy (should be unused).
      INBOUND_ROUTE_TABLE=100
      INBOUND_ROUTE_TABLE2=103
      OUTBOUND_ROUTE_TABLE=101
      # needed for original src.
      PROXY_ROUTE_TABLE=102
      
      # START https://github.com/solo-io/istio-sidecarless/blob/master/redirect-worker.sh#L185-L196
      set +e # Only for delete, we don't care if this fails
      ip link del p$INBOUND_TUN
      ip link del p$OUTBOUND_TUN
      set -e
      HOST_IP=$(ip route | grep default | awk '{print $3}')
      
      ip link add name p$INBOUND_TUN type geneve id 1000 remote $HOST_IP
      ip addr add $ZTUNNEL_INBOUND_TUN_IP/$TUN_PREFIX dev p$INBOUND_TUN
      
      ip link add name p$OUTBOUND_TUN type geneve id 1001 remote $HOST_IP
      ip addr add $ZTUNNEL_OUTBOUND_TUN_IP/$TUN_PREFIX dev p$OUTBOUND_TUN
      
      ip link set p$INBOUND_TUN up
      ip link set p$OUTBOUND_TUN up
      
      echo 0 > /proc/sys/net/ipv4/conf/p$INBOUND_TUN/rp_filter
      echo 0 > /proc/sys/net/ipv4/conf/p$OUTBOUND_TUN/rp_filter
      # END https://github.com/solo-io/istio-sidecarless/blob/master/redirect-worker.sh#L185-L196
      
      # START https://github.com/solo-io/istio-sidecarless/blob/master/redirect-worker.sh#L206-L238
      set +e # Only for delete, we don't care if this fails
      ip rule del priority 20000
      ip rule del priority 20001
      ip rule del priority 20002
      ip rule del priority 20003
      
      ip route flush table 100
      ip route flush table 101
      ip route flush table 102
      set -e
      
      ip rule add priority 20000 fwmark $MARK lookup 100
      ip rule add priority 20001 fwmark $PROXY_OUTBOUND_MARK lookup 101
      ip rule add priority 20002 fwmark $PROXY_INBOUND_MARK lookup 102
      ip rule add priority 20003 fwmark $ORG_SRC_RET_MARK lookup 100
      ip route add local 0.0.0.0/0 dev lo table 100
      
      ip route add table 101 $HOST_IP dev eth0 scope link
      ip route add table 101 0.0.0.0/0 via $OUTBOUND_TUN_IP dev p$OUTBOUND_TUN
      
      ip route add table 102 $HOST_IP dev eth0 scope link
      ip route add table 102 0.0.0.0/0 via $INBOUND_TUN_IP dev p$INBOUND_TUN
      
      set +e
      num_legacy_lines=$( (iptables-legacy-save || true; ip6tables-legacy-save || true) 2>/dev/null | grep '^-' | wc -l)
      if [ "${num_legacy_lines}" -ge 10 ]; then
        mode=legacy
      else
        num_nft_lines=$( (timeout 5 sh -c "iptables-nft-save; ip6tables-nft-save" || true) 2>/dev/null | grep '^-' | wc -l)
        if [ "${num_legacy_lines}" -ge "${num_nft_lines}" ]; then
          mode=legacy
        else
          mode=nft
        fi
      fi
      IPTABLES=iptables-legacy
      if [ "${mode}" = "nft" ]; then
        IPTABLES=iptables-nft
      fi
      set -e
      
      $IPTABLES -t mangle -F PREROUTING
      $IPTABLES -t nat -F OUTPUT
      
      $IPTABLES-save | grep -v LOG | $IPTABLES-restore
      $IPTABLES -t mangle -I PREROUTING -j LOG --log-prefix "mangle pre [$POD_NAME] "
      $IPTABLES -t mangle -I POSTROUTING -j LOG --log-prefix "mangle post [$POD_NAME] "
      $IPTABLES -t mangle -I INPUT -j LOG --log-prefix "mangle inp [$POD_NAME] "
      $IPTABLES -t mangle -I OUTPUT -j LOG --log-prefix "mangle out [$POD_NAME] "
      $IPTABLES -t mangle -I FORWARD -j LOG --log-prefix "mangle fw [$POD_NAME] "
      $IPTABLES -t nat -I POSTROUTING -j LOG --log-prefix "nat post [$POD_NAME] "
      $IPTABLES -t nat -I INPUT -j LOG --log-prefix "nat inp [$POD_NAME] "
      $IPTABLES -t nat -I OUTPUT -j LOG --log-prefix "nat out [$POD_NAME] "
      $IPTABLES -t nat -I PREROUTING -j LOG --log-prefix "nat pre [$POD_NAME] "
      $IPTABLES -t raw -I PREROUTING -j LOG --log-prefix "raw pre [$POD_NAME] "
      $IPTABLES -t raw -I OUTPUT -j LOG --log-prefix "raw out [$POD_NAME] "
      $IPTABLES -t filter -I FORWARD -j LOG --log-prefix "filt fw [$POD_NAME] "
      $IPTABLES -t filter -I OUTPUT -j LOG --log-prefix "filt out [$POD_NAME] "
      $IPTABLES -t filter -I INPUT -j LOG --log-prefix "filt inp [$POD_NAME] "
      
      $IPTABLES -t mangle -A PREROUTING -p tcp -i p$INBOUND_TUN -m tcp --dport=$POD_INBOUND -j TPROXY --tproxy-mark $MARK --on-port $POD_INBOUND --on-ip 127.0.0.1
      $IPTABLES -t mangle -A PREROUTING -p tcp -i p$OUTBOUND_TUN -j TPROXY --tproxy-mark $MARK --on-port $POD_OUTBOUND --on-ip 127.0.0.1
      $IPTABLES -t mangle -A PREROUTING -p tcp -i p$INBOUND_TUN -j TPROXY --tproxy-mark $MARK --on-port $POD_INBOUND_PLAINTEXT --on-ip 127.0.0.1
      
      $IPTABLES -t mangle -A PREROUTING -p tcp -i eth0 ! --dst $INSTANCE_IP -j MARK --set-mark $ORG_SRC_RET_MARK
      
      $IPTABLES -t nat -A OUTPUT -p tcp --dport 15088 -j REDIRECT --to-port $POD_INBOUND
      # END https://github.com/solo-io/istio-sidecarless/blob/master/redirect-worker.sh#L206-L238
      # With normal linux routing we need to disable the rp_filter
      # as we get packets from a tunnel that doesn't have default routes.
      echo 0 > /proc/sys/net/ipv4/conf/all/rp_filter
      echo 0 > /proc/sys/net/ipv4/conf/default/rp_filter
      echo 0 > /proc/sys/net/ipv4/conf/eth0/rp_filter
      
    State:          Terminated
      Reason:       Completed
      Exit Code:    0
      Started:      Tue, 11 Oct 2022 09:17:08 -0600
      Finished:     Tue, 11 Oct 2022 09:17:08 -0600
    Ready:          True
    Restart Count:  0
    Environment:
      INSTANCE_IP:               (v1:status.podIP)
      POD_NAME:                 ztunnel-w7skd (v1:metadata.name)
      HOST_IP:                   (v1:status.hostIP)
      ISTIO_META_ENABLE_HBONE:  true
    Mounts:
      /var/run/secrets/kubernetes.io/serviceaccount from kube-api-access-d54f6 (ro)
Containers:
  istio-proxy:
    Container ID:  containerd://635b0358e616a28eea340edb100270a0deeba4517beb6c5d5263647c4dc56ead
    Image:         dhawton/proxyv2:ambient
    Image ID:      docker.io/dhawton/proxyv2@sha256:b17d379953f2b1494261030bfc00e022914a9f670b1d2c09f48ea9ab6798d745
    Port:          <none>
    Host Port:     <none>
    Args:
      proxy
      sidecar
    State:          Running
      Started:      Tue, 11 Oct 2022 09:17:10 -0600
    Ready:          True
    Restart Count:  0
    Readiness:      http-get http://:15020/healthz/ready delay=0s timeout=1s period=10s #success=1 #failure=3
    Environment:
      ISTIO_META_GENERATOR:     ztunnel-envoy
      ISTIO_META_AMBIENT_TYPE:  ztunnel
      ISTIO_META_CLUSTER_ID:    cluster1
      CREDENTIAL_FETCHER_TYPE:  TokenRequest
      POD_NAME:                 ztunnel-w7skd (v1:metadata.name)
      POD_NAMESPACE:            istio-system (v1:metadata.namespace)
      ISTIO_META_NODE_NAME:      (v1:spec.nodeName)
      INSTANCE_IP:               (v1:status.podIP)
      SERVICE_ACCOUNT:           (v1:spec.serviceAccountName)
      ISTIO_META_ENABLE_HBONE:  true
    Mounts:
      /etc/istio/config from config-volume (rw)
      /var/lib/istio/data from istio-data (rw)
      /var/lib/kubelet/pki from kubelet-creds (rw)
      /var/run/secrets/istio from istiod-ca-cert (rw)
      /var/run/secrets/kubernetes.io/serviceaccount from kube-api-access-d54f6 (ro)
      /var/run/secrets/tokens from istio-token (rw)
Conditions:
  Type              Status
  Initialized       True 
  Ready             True 
  ContainersReady   True 
  PodScheduled      True 
Volumes:
  istio-data:
    Type:       EmptyDir (a temporary directory that shares a pod's lifetime)
    Medium:     
    SizeLimit:  <unset>
  kubelet-creds:
    Type:          HostPath (bare host directory volume)
    Path:          /var/lib/kubelet/pki
    HostPathType:  
  istio-token:
    Type:                    Projected (a volume that contains injected data from multiple sources)
    TokenExpirationSeconds:  43200
  istiod-ca-cert:
    Type:      ConfigMap (a volume populated by a ConfigMap)
    Name:      istio-ca-root-cert
    Optional:  false
  config-volume:
    Type:      ConfigMap (a volume populated by a ConfigMap)
    Name:      istio
    Optional:  true
  kube-api-access-d54f6:
    Type:                    Projected (a volume that contains injected data from multiple sources)
    TokenExpirationSeconds:  3607
    ConfigMapName:           kube-root-ca.crt
    ConfigMapOptional:       <nil>
    DownwardAPI:             true
QoS Class:                   BestEffort
Node-Selectors:              <none>
Tolerations:                 :NoSchedule op=Exists
                             :NoExecute op=Exists
                             CriticalAddonsOnly op=Exists
                             node.kubernetes.io/disk-pressure:NoSchedule op=Exists
                             node.kubernetes.io/memory-pressure:NoSchedule op=Exists
                             node.kubernetes.io/not-ready:NoExecute op=Exists
                             node.kubernetes.io/pid-pressure:NoSchedule op=Exists
                             node.kubernetes.io/unreachable:NoExecute op=Exists
                             node.kubernetes.io/unschedulable:NoSchedule op=Exists
Events:
  Type     Reason       Age                From               Message
  ----     ------       ----               ----               -------
  Normal   Scheduled    26m                default-scheduler  Successfully assigned istio-system/ztunnel-w7skd to gke-daniel-ambient-default-pool-d5dcc773-d4df
  Warning  FailedMount  26m (x5 over 26m)  kubelet            MountVolume.SetUp failed for volume "istiod-ca-cert" : configmap "istio-ca-root-cert" not found
  Normal   Pulling      26m                kubelet            Pulling image "dhawton/proxyv2:ambient"
  Normal   Pulled       26m                kubelet            Successfully pulled image "dhawton/proxyv2:ambient" in 6.820117258s
  Normal   Created      26m                kubelet            Created container istio-init
  Normal   Started      26m                kubelet            Started container istio-init
  Normal   Pulled       26m                kubelet            Container image "dhawton/proxyv2:ambient" already present on machine
  Normal   Created      26m                kubelet            Created container istio-proxy
  Normal   Started      26m                kubelet            Started container istio-proxy
